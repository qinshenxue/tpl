!function(e){function t(e,r){return t.render(e,r)}t.cache={},t.tools={},t.tool=function(e,t){this.tools[e]=t},t.compile=function(e,t){var r="var $tools=this.tools; var $out='"+e.replace(/[\r\n]/g,"").replace(/<%\s*=\s*(.+?)%>/g,"';$out+=$1;$out+='").replace(/<%(.+?)%>/g,"';$1$out+='")+"';return $out;",n=new Function("$data",r).bind(this);return t&&(this.cache[t]={code:r,source:e,render:n}),n},t.render=function(e,t){if(this.cache[e])return this.cache[e].render(t);var r=document.getElementById(e);if(r){var n=r.innerText;return this.compile(n,e)(t)}return""},e.tpl=t}(window);