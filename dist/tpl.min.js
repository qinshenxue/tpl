!function(t){function e(t,r){return e.render(t,r)}e.cache={},e.tools={},e.tool=function(t,e){this.tools[t]=e},e.compile=function(t,e){var r="var $tools=this.tools; var $out='"+t.replace(/[\r\n]/g,"").replace(/\{\{\s*=\s*(.+?)\}\}/g,"';$out+=$1;$out+='").replace(/\{\{(.+?)\}\}/g,"';$1$out+='")+"';return new String($out);",n=new Function("$data",r);n.prototype.tools=this.tools;var o=function(t){return new n(t)+""};return e&&(this.cache[e]={code:r,source:t,render:o}),o},e.render=function(t,e){if(this.cache[t])return this.cache[t].render(e);var r=document.getElementById(t);if(r){var n=r.innerText;return this.compile(n,t)(e)}return""},t.tpl=e}(window);